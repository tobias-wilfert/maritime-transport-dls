//===========================================================================================================
// VALID MODELS
//===========================================================================================================
WMS WMS_TEST {
    Source source0 {
        rate = 1;
        out0 = sink0;
    }

    Sink sink0 {
        in0 = source0;
    }
}

// With proper check for the confluence connnection
WMS WMS_TEST {
    Source source0 {
        rate = 1;
        out0 = confluence0;
    }

    Source source1 {
        rate = 1;
        out0 = confluence0;
    }

    Confluence confluence0 {
        in0 = source0;
        in1 = source1;
        out0 = sink0;
        out1 = sink1;
    }

    Sink sink0 {
        in0 = confluence0;
    }

    Sink sink1 {
        in0 = confluence0;
    }
}

//===========================================================================================================
// INVALID MODELS
//===========================================================================================================
// correct count for sinks and sources, but 2 wrongly linked ones 
WMS WMS_TEST {
    Source source0 {
        rate = 1;
        out0 = sink0;
    }

    Sink sink0 {
        in0 = source0;
    }

    Sink sink1 {
        in0 = source0;
    }

    Source source1 {
        rate = 2;
        out0 = sink0;
    }
}

// invalid rate for source
WMS WMS_TEST {
    Source source0 {
        rate = -1;
        out0 = sink0;
    }

    Sink sink0 {
        in0 = source0;
    }
}

// invalid count for sinks and sources + invalid rate for source + in-out mismatch
WMS WMS_TEST {
    Source source0 {
        rate = -1;
        out0 = sink0;
    }

    Sink sink0 {
        in0 = source0;
    }

    Sink sink1 {
        in0 = source0;
    }
}

// Both Sources are unhappy, one is unhappy because it is not referenced in confluence0 the other
// is not happy because it is referenced twice
// Also confluence is unhappy as both its in's reference the same node
WMS WMS_TEST {
    Source source0 {
        rate = 1;
        out0 = confluence0;
    }

    Source source1 {
        rate = 1;
        out0 = confluence0;
    }

    Confluence confluence0 {
        in0 = source0;
        in1 = source0;
        out0 = sink0;
        out1 = sink1;
    }

    Sink sink0 {
        in0 = confluence0;
    }

    Sink sink1 {
        in0 = confluence0;
    }
}
